<!DOCTYPE html PUBLIC
        "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta  charset= "UTF-8" />
    <title>杨蕾</title>
    <h1  align="center">我们的目标是星辰与大海</h1>

    <style>
        #tanmu{
            width:1000px;
            height:500px;
            z-index:9999;
        }

        #textStyle{
            position:absolute;
            font-size:24px;
            color:#fff;
        }
    </style>
</head>

<body text=#ffffff bgcolor=#000000>
<div id="play" style="position:absolute; width:100%; z-index:-1">
    <img src="1.jpg" width="100%"/>

    <div id="tanmu">
    </div>
</div>

<div style="position:absolute;left:80%;top:3%;visibility: hidden " id="wel">
    <p>Welcome: <output id="welcome"></output></p>
    </div>

<form>

    <input type="text" id="text" value="这是弹幕..."/><input type="button"  value="发送" onClick="tanmu();"/>
    <!--<embed height="100" width="200" src="./song.mp3"></embed>-->

    <div style="position:absolute;left:70%;top:70%; ">
    <audio aria-flowto="left" controls="controls" loop="loop" >
        <source src="./song.mp3" type="audio/mp3" />
        <source src="./song.ogg" type="audio/ogg" />
    </audio>
        </div>

    <div style="position:absolute;left: 80%;top:5%;">
        <input id="user" value="your name"/><input type="button" id="sign" value="登录" onClick="SignUp();"/>
        <input type="button" id="quit" value="注销" onClick="LogOut();"/>
        </div>

</form>

<script language="javascript">
    var si;
    function tanmu(){
        clearInterval(si);
        var text = document.getElementById("text");
        var tanmu = document.getElementById("tanmu");
        var textStyle="<font id=\"textStyle\">"+text.value+"</font>";

        mathHeight = Math.round(Math.random()*tanmu.offsetHeight)+"px";

        var textLeft=tanmu.offsetWidth+"px";

        tanmu.innerHTML=textStyle;

        var textStyleObj = document.getElementById("textStyle");

        textStyleObj.style.left=textLeft;
        textStyleObj.style.top=mathHeight;

        var x=parseInt(textStyleObj.style.left);

        si = setInterval("xunhuan("+x+")",100);

    }
    function xunhuan(left){
        var textStyleObj = document.getElementById("textStyle");
        textStyleObj.style.left=left;

        var x=parseInt(textStyleObj.style.left);

        if(x<textStyleObj.style.width){
            document.getElementById("tanmu").innerHTML="";
            clearInterval(si);
        }else{
            x-=18;
        }

        textStyleObj.style.left=x+"px";
    }
    </script>
<script type="text/javascript">
    if(typeof (localStorage.lastname)!="undefined")
    {
        sign();
    }
    else
    {
        document.getElementById("quit").style.visibility="hidden";
    }
    function SignUp()
    {
            localStorage.lastname = document.getElementById("user").value;
         sign();
    }
    function sign()
    {
        document.getElementById("user").style.visibility = "hidden";
        document.getElementById("sign").style.visibility = "hidden";
        document.getElementById("welcome").innerHTML = localStorage.lastname;
        document.getElementById("wel").style.visibility = "visible";
        document.getElementById("quit").style.visibility="visible";
    }
    function LogOut()
    {
        localStorage.removeItem("lastname");
        document.getElementById("wel").style.visibility = "hidden";
        document.getElementById("user").style.visibility = "visible";
        document.getElementById("sign").style.visibility = "visible";
        localStorage["pagecount"]=0;
    }

    if (localStorage.pagecount&&localStorage.lastname)
    {
        localStorage.pagecount=Number(localStorage.pagecount) +1;
    }
    else
    {
        localStorage.pagecount=1;
    }
    document.write("Visits: " + localStorage.pagecount + " time(s).");
</script>

<marquee style="width: 1100px; height: 200px" scrollamount="10" direction="left" >
        <p ><font color="white" size="4" >欢迎大神造访~~~！！！</font ></p >
</marquee >


</body>
</html>